<!doctype html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ðŸ”Ž Damage Assessment</title>
<link rel="stylesheet" href="../../../assets/css/style.css"/>
<style>
:root{--navy:#0f172a;--primary:#1e40af;--primary-600:#1e3a8a;--accent:#3b82f6;--text:#111827;--muted:#6b7280;--border:#e5e7eb;--panel:#f8fafc;--success:#10b981;--warn:#f59e0b;--error:#ef4444;}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:#fff;line-height:1.6}
.header{position:sticky;top:0;z-index:1000;background:var(--navy);color:#fff;box-shadow:0 2px 6px rgba(0,0,0,.08)}
.header .container{max-width:1200px;margin:0 auto;padding:14px 24px;display:flex;align-items:center;justify-content:space-between}
.brand{display:flex;align-items:center;gap:10px;font-weight:800}
.nav a{color:#c9d4ff;text-decoration:none;padding:.5rem .75rem;border-radius:.5rem}
.nav a:hover{background:rgba(255,255,255,.1)}
</style></head><body>
<header class="header">
  <div class="container">
    <div class="brand">ClaimNavigatorAI</div>
    <nav class="nav">
      <a href="/app/index.html">Home</a>
      <span style="color: #64748b; margin: 0 0.25rem;">></span>
      <span style="color: white; font-weight: 600;">Damage Assessment</span>
      <span style="color: #64748b; margin: 0 0.25rem;">></span>
      <a href="/app/resource-center.html">Resource Center</a>
    </nav>
  </div>
</header>
<main class="container">
  <div class="card">
    <h1 class="section-h">ðŸ”Ž Damage Assessment</h1>
    <p class="lead">ROM estimate & scope recommendations.</p>
    <div class="card">
      <label>Input</label>
      <textarea id="tool-input" style="width:100%;min-height:120px;border:1px solid var(--border);border-radius:10px;padding:12px"></textarea>
      <div style="display:flex;gap:.5rem;margin-top:.5rem;flex-wrap:wrap">
        <button class="btn btn-solid" id="run">Run Analysis</button>
        <button class="btn" id="export">Export PDF</button>
      </div>
      <div id="tool-output" class="card" style="margin-top:1rem"></div>
    </div>
  </div>
</main>
<script type="module">
import { analyzeClaim, createDoc } from '../../../assets/js/api-client.js';
import { qs, on } from '../../../assets/js/ui-helpers.js';
const analysisType='damage_assessment';
on(qs('#run'),'click', async ()=>{
  const v=qs('#tool-input').value.trim(); if(!v) return alert('Enter details first.');
  qs('#tool-output').innerHTML='<span class="spinner"></span> Running...';
  try{
    const res = await analyzeClaim({ analysisType, text:v });
    const html = res.assessment || res.comparison || res.report || res.analysis || JSON.stringify(res);
    qs('#tool-output').innerHTML = html || '(no output)';
  }catch(e){
    qs('#tool-output').innerHTML = `<div style="color:#dc2626">Error: ${e.message}</div>`;
  }
});
on(qs('#export'),'click', async ()=>{
  const html=qs('#tool-output').innerHTML.trim(); if(!html) return alert('Run analysis first.');
  const r=await createDoc({content:html,format:'pdf',type:analysisType,filename:`${analysisType}_${Date.now()}`});
  const url=r.url||r.downloadUrl; if(url) location.href=url; else alert('Export failed');
});
</script>
<script type="module" src="../../../assets/js/diagnostics.js"></script>
</body></html>