/**
 * Print Styles
 * Clean, professional formatting for printed documents
 */

@media print {
  /* Page Setup */
  @page {
    margin: 20mm;
    size: letter;
  }

  /* Reset */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }

  /* Body */
  body {
    background: white !important;
    color: black !important;
    font-size: 11pt;
    line-height: 1.5;
  }

  /* Hide Non-Essential Elements */
  nav,
  .navbar,
  .sidebar,
  .header,
  .footer,
  .navigation,
  .menu,
  .breadcrumb,
  button:not(.print-keep),
  .button:not(.print-keep),
  .btn:not(.print-keep),
  .modal-backdrop,
  .toast,
  .alert:not(.print-keep),
  .notification,
  .toolbar,
  .action-buttons,
  .step-button,
  .mark-complete-button,
  .financial-snapshot-toggle,
  .financial-snapshot-actions,
  .toc-container,
  .escalation-modal,
  .video-container,
  iframe,
  video {
    display: none !important;
  }

  /* Keep Essential Content */
  main,
  .main-content,
  .content,
  .step-block,
  .output-panel,
  .financial-snapshot-panel {
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    page-break-inside: avoid;
  }

  /* Headings */
  h1, h2, h3, h4, h5, h6 {
    color: black !important;
    page-break-after: avoid;
    margin-top: 12pt;
    margin-bottom: 6pt;
  }

  h1 {
    font-size: 18pt;
    border-bottom: 2pt solid black;
    padding-bottom: 6pt;
  }

  h2 {
    font-size: 16pt;
    border-bottom: 1pt solid #666;
    padding-bottom: 4pt;
  }

  h3 {
    font-size: 14pt;
  }

  h4 {
    font-size: 12pt;
  }

  /* Paragraphs */
  p {
    margin: 6pt 0;
    orphans: 3;
    widows: 3;
  }

  /* Lists */
  ul, ol {
    margin: 6pt 0;
    padding-left: 20pt;
  }

  li {
    margin: 3pt 0;
  }

  /* Tables */
  table {
    width: 100% !important;
    border-collapse: collapse !important;
    page-break-inside: avoid;
    margin: 12pt 0;
  }

  thead {
    display: table-header-group;
  }

  tbody {
    display: table-row-group;
  }

  tr {
    page-break-inside: avoid;
  }

  th, td {
    border: 1pt solid #666 !important;
    padding: 6pt !important;
    text-align: left !important;
  }

  th {
    background: #f0f0f0 !important;
    font-weight: bold !important;
    color: black !important;
  }

  /* Links */
  a {
    color: black !important;
    text-decoration: underline !important;
  }

  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: 9pt;
    color: #666;
  }

  /* Images */
  img {
    max-width: 100% !important;
    page-break-inside: avoid;
  }

  /* Financial Snapshot Panel */
  .financial-snapshot-panel {
    background: white !important;
    border: 2pt solid black !important;
    border-radius: 0 !important;
    padding: 12pt !important;
    margin-bottom: 12pt !important;
  }

  .financial-snapshot-panel.collapsed .financial-snapshot-content {
    display: block !important;
  }

  .financial-snapshot-header {
    background: white !important;
    border-bottom: 1pt solid black !important;
    padding-bottom: 6pt !important;
    margin-bottom: 6pt !important;
  }

  .financial-snapshot-title {
    color: black !important;
    font-size: 14pt !important;
    font-weight: bold !important;
  }

  .financial-snapshot-grid {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 6pt !important;
  }

  .financial-metric {
    background: white !important;
    border: 1pt solid #666 !important;
    border-radius: 0 !important;
    padding: 6pt !important;
    color: black !important;
  }

  .financial-metric.alert,
  .financial-metric.warning,
  .financial-metric.success {
    background: white !important;
    color: black !important;
  }

  .metric-label {
    font-size: 9pt !important;
    color: #666 !important;
  }

  .metric-value {
    font-size: 14pt !important;
    color: black !important;
    font-weight: bold !important;
  }

  .metric-status {
    font-size: 8pt !important;
    color: #666 !important;
  }

  /* Supplement Letter */
  .supplement-letter,
  .output-panel {
    background: white !important;
    border: none !important;
    padding: 0 !important;
  }

  .supplement-header {
    border-bottom: 2pt solid black !important;
    padding-bottom: 12pt !important;
    margin-bottom: 12pt !important;
  }

  .category-section {
    background: white !important;
    border-left: 3pt solid black !important;
    padding-left: 12pt !important;
    margin: 12pt 0 !important;
    page-break-inside: avoid;
  }

  .category-title {
    color: black !important;
    font-size: 14pt !important;
    font-weight: bold !important;
  }

  .discrepancy-item {
    background: white !important;
    border-left: 2pt solid #666 !important;
    padding-left: 6pt !important;
    margin: 6pt 0 !important;
  }

  .discrepancy-type {
    color: black !important;
    font-weight: bold !important;
  }

  .discrepancy-delta {
    color: black !important;
    font-weight: bold !important;
  }

  .summary-section {
    background: white !important;
    border: 2pt solid black !important;
    padding: 12pt !important;
    margin: 12pt 0 !important;
  }

  .total-request {
    font-size: 16pt !important;
    color: black !important;
    font-weight: bold !important;
    border-top: 2pt solid black !important;
    padding-top: 6pt !important;
  }

  /* Step Blocks */
  .step-block {
    page-break-inside: avoid;
    margin-bottom: 12pt !important;
  }

  .step-header {
    color: black !important;
    border-bottom: 2pt solid black !important;
    padding-bottom: 6pt !important;
  }

  /* Output Sections */
  .output-section {
    page-break-inside: avoid;
    margin: 12pt 0 !important;
  }

  .output-title {
    color: black !important;
    font-size: 14pt !important;
    font-weight: bold !important;
  }

  .output-grid {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 6pt !important;
  }

  .output-card {
    background: white !important;
    border: 1pt solid #666 !important;
    padding: 6pt !important;
  }

  .output-alert {
    background: white !important;
    border: 2pt solid black !important;
    padding: 12pt !important;
    margin: 12pt 0 !important;
  }

  /* Page Breaks */
  .page-break {
    page-break-after: always;
  }

  .no-break {
    page-break-inside: avoid;
  }

  /* Signature */
  .signature {
    margin-top: 24pt !important;
    page-break-inside: avoid;
  }

  /* Footer for each page */
  @page {
    @bottom-right {
      content: "Page " counter(page) " of " counter(pages);
      font-size: 9pt;
      color: #666;
    }
  }
}
