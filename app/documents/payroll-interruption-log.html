<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Payroll Interruption Log</title><link rel="stylesheet" href="/app/assets/css/style.css"/></head><body>
<header class="header"><div class="bar container"><div class="brand"><div class="logo"></div><div>Payroll Interruption Log</div></div>
<nav class="nav"><a href="/app/documents/index.html">‚Üê Documents</a></nav></div></header>
<main class="container" id="main">
  <div class="card">
    <p class="small">CSV format: <code>date, employee, hours lost, hourly rate</code></p>
    <textarea id="csv" placeholder="2025-03-02, Smith, 16, 28"></textarea>
    <div style="margin-top:8px"><button class="btn btn-primary" id="sum">Summarize</button></div>
    <div id="out" class="card" style="margin-top:12px"></div>
  </div>
</main>
<script type="module">
  import {qs,on} from '/app/assets/js/ui-helpers.js';
  import { parseCSV } from '/app/assets/js/csv-utils.js';
  import { fmtMoney } from '/app/assets/js/validation-utils.js';
  on(qs('#sum'),'click', ()=>{
    const rows = parseCSV(qs('#csv').value).map(r=>({date:r[0], emp:r[1], hours:Number(r[2]||0), rate:Number(r[3]||0)}));
    const total = rows.reduce((s,x)=>s+(x.hours*x.rate),0);
    const body = rows.map(x=>`<tr><td>${x.date}</td><td>${x.emp}</td><td style="text-align:right">${x.hours}</td><td style="text-align:right">${fmtMoney(x.rate)}</td><td style="text-align:right"><b>${fmtMoney(x.hours*x.rate)}</b></td></tr>`).join('');
    qs('#out').innerHTML = `<table><thead><tr><th>Date</th><th>Employee</th><th style="text-align:right">Hours</th><th style="text-align:right">Rate</th><th style="text-align:right">Total</th></tr></thead><tbody>${body}</tbody><tfoot><tr><td colspan="4" style="text-align:right">TOTAL</td><td style="text-align:right"><b>${fmtMoney(total)}</b></td></tr></tfoot></table>`;
  });
</script>
<script type="module" src="/app/assets/js/diagnostics.js"></script>
</body></html>